# Project REACH

In the last decade, advences in the domain of electromyography has made it more available to the general public. Which lead to innovation such as a the MYO armband, a commercialised SEMG device. 
These new methods have provoqued a renewed interest in developing more complex prosthetic hands now that more reliable control method to easily control them. Combined with the current trend in biotechnology to solve every problem with machine learning, and you optain the insparation behind project REACH.  

REACH Extends Arm Control for Humans is Myo controlled prothestic arm designed for transradial amputes. It uses a real-time classifier to distinguish between mutually exclusive poses made by human arm by monitoring surface myoelectric (SEMG) generated by muscle contraction on 8 points around the arm. This give us access to 9 distinct commands to control hand with 5 degres of freedom.

## Road Map
### 1) Mechanics
- `/mechanics`        --Contains CAD files and assembling instructions
### 2) Prosthetic Firmware
- `/Firmware`
   - `/Motion_control`     -- Actuator control scheme and modeling of finger mouvement
       - `finger_interce.c`  
       - `finger_interce.h`   
   - `/Pose_classification` --Classifier logic 
       - `pipeline.c`
       - `pipeline.h`
   - `/bluetooth`        -- Bluetooth service connecting to the MYO armband
      - `ble_app.c`
      - `ble_app.h`
      - `myohw.h`             -- Thalmic lab's BLE command and configuration list
   - `/main`             -- top level logic 
      - `app_main.c`
      - `app_main.h`

**Other import files:**
- `/SVM_modle`         -- Instruction on how to remake the model from scratch
   - `/raw_dataset`        -- Raw EMG data file for each pose from the MYO armband
   - `/extraction`         -- Code to extract feature from each data file
   - `Multilabel_linearSVC_MyoSynapsETS.ipynb`   --Traning and testing pipeline using Jupyter


## Getting Started
**Hardware setup** <br>
- `Myo armband` --Thalmic labs has discontinued this products
- `Prosthetic control board`
    - `Solderless Breadboard`
    - `ESP32-DevKitC`
    - `2x 12V Halfbridge (L6202)`
    - `Jumper Wires`
    - `4x PQ12 Cable Adapter`
- `A printed and assembled Prosthetic hand` --

**Connection layout** <br>
#TODO

**Programming the ESP32** <br>
A quick guide on a Linux platform can be followed from here. For a full guide on each operating system follow the official guide of Espressif's website.
https://docs.espressif.com/projects/esp-idf/en/latest/get-started/index.html#step-1-set-up-the-toolchain


Open Terminal, and run the following commands: <dr>
    - mkdir ~/esp
    - cd ~/esp
    - git clone --recursive https://github.com/espressif/esp-idf.git

Setup IDF environment variable <dr>
    - export IDF_PATH=~/esp/esp-idf

Install Python requirements <dr>
    - python -m pip install --user -r $IDF_PATH/requirements.txt

Get the project and program the microcontroller <dr>
    - cd ~/esp
    - git clone https://github.com/Synapse/Project-EMP.git
    - cd Project-EMP
    - make menuconfig
        - Serial flasher config
            - /dev/ttyUSB0
            - exit exit
    - make -j4 flash monitor

**Your REACH grasp** <br>
Place the Myo armband around your forarm following this picture. 
Wait for the connection to be established between the Myo and the ESP32. All Myo armbands have the same hardware address but different IDs, this means that a connection is possible as long as the Myo is on the forarm and charged.
Possible poses
  * Writs flexion
  * Wrist extension
  * Fist
  * Finger Spread

 
